(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{71:function(e,a,t){e.exports=t(99)},77:function(e,a,t){},99:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),c=t.n(l),u=t(7),o=t.n(u),s=t(14),i=t(11),m=(t(77),t(15)),p=t.n(m),E=t(130),v=t(134),d=t(135),f=t(148),g=t(140),b=function(e){var a=e.updatePage,t=e.showAlert,l=e.updateUserData,c=Object(n.useState)(""),u=Object(i.a)(c,2),m=u[0],b=u[1],h=Object(n.useState)(!1),x=Object(i.a)(h,2),k=x[0],j=x[1],O=function(){var e=Object(s.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/v1/",{},{headers:{"x-auth-token":a}});case 3:(t=e.sent).data.success&&w(t.data.data.user.uuid),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),j(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=localStorage.getItem("token");e?O(e):j(!0)}),[]);var w=function(){var e=Object(s.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/v1/auth",{uuid:n});case 3:if(!(r=e.sent).data.success){e.next=9;break}return localStorage.setItem("token",r.data.data.token),e.next=8,l();case 8:r.data.data.user.admin?a("admin"):a("user");case 9:e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),t(!0,"error","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),setTimeout((function(){return t(!1)}),5e3);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m&&w(m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,k&&r.a.createElement(E.a,null,r.a.createElement(v.a,{spacing:3,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(d.a,{variant:"h5"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(f.a,{id:"uuid",defaultValue:m,variant:"outlined",fullWidth:!0,onChange:function(e){return b(e.target.value)}}),r.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:y},"\u0412\u043e\u0439\u0442\u0438")))))},h=t(29),x=t.n(h),k=(t(58),t(139)),j=t(141),O=t(142),w=t(143),y=t(144),S=t(145),C=function(e){var a=e.userData,t=e.updateUserData,l=e.goToLogin,c=e.showAlert,u=Object(n.useState)(""),m=Object(i.a)(u,2),b=m[0],h=m[1],C=Object(n.useState)(""),I=Object(i.a)(C,2),D=I[0],_=I[1],A=function(){var e=Object(s.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=parseInt(b))>0&&D)){e.next=16;break}return e.prev=2,c(!0,"warning","\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435... \u0436\u0434\u0438\u0442\u0435..."),e.next=6,p.a.post("/api/v1/addgold",{summ:a,descr:D,correction:!1,sellprice:0},{headers:{"x-auth-token":localStorage.getItem("token")}});case 6:n=e.sent,h(""),_(""),c(!1),n.data.success&&t(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(v.a,{spacing:4,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(d.a,{variant:"h5"},a.user.name),r.a.createElement(g.a,{variant:"outlined",color:"secondary",size:"small",onClick:function(){localStorage.clear(),l()}},"\u0412\u044b\u0445\u043e\u0434")),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,null,"\u0417\u0430\u043d\u0435\u0441:",r.a.createElement("br",null),a.user.gold," \u0433\u043e\u043b\u0434\u044b"),r.a.createElement(d.a,null,"\u041f\u043e\u043b\u0443\u0447\u0438\u043b:",r.a.createElement("br",null),a.user.payed," \u0440\u0443\u0431"),r.a.createElement(d.a,null,"\u0411\u0430\u043b\u0430\u043d\u0441:",r.a.createElement("br",null),a.user.topay," \u0440\u0443\u0431"))),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,null,"\u0414\u0435\u043f\u043e\u0437\u0438\u0442 \u0432 \u0431\u0430\u043d\u043a"),r.a.createElement(f.a,{label:"Gold",variant:"outlined",value:b,onChange:function(e){return h(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436",variant:"outlined",value:D,onChange:function(e){return _(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:A},"\u0412\u043d\u0435\u0441\u0442\u0438"))),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,{variant:"h5"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 \u0431\u0430\u043d\u043a\u043e\u043c (\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 10)"),r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(y.a,null,"\u0414\u0430\u0442\u0430"),r.a.createElement(y.a,null,"\u0421\u0443\u043c\u043c\u0430"),r.a.createElement(y.a,{align:"right"},"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436"))),r.a.createElement(S.a,null,a.tx.map((function(e){return r.a.createElement(w.a,{key:e._id},r.a.createElement(y.a,{component:"th",scope:"row"},x()(e.date).format("lll")),r.a.createElement(y.a,null,e.summ),r.a.createElement(y.a,{align:"right"},e.descr))})))))))))},I=t(138),D=t(150),_=t(146),A=t(151),U=function(e){var a=e.userData,t=e.updateUserData,l=e.goToLogin,c=e.showAlert,u=Object(n.useState)(""),m=Object(i.a)(u,2),b=m[0],h=m[1],C=Object(n.useState)(""),U=Object(i.a)(C,2),F=U[0],T=U[1],L=Object(n.useState)(""),z=Object(i.a)(L,2),G=z[0],J=z[1],P=Object(n.useState)(""),W=Object(i.a)(P,2),B=W[0],M=W[1],R=Object(n.useState)(""),V=Object(i.a)(R,2),q=V[0],H=V[1],K=Object(n.useState)(""),N=Object(i.a)(K,2),Q=N[0],X=N[1],Y=Object(n.useState)(""),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1],ae=Object(n.useState)(""),te=Object(i.a)(ae,2),ne=te[0],re=te[1],le=Object(n.useState)([]),ce=Object(i.a)(le,2),ue=ce[0],oe=ce[1],se=Object(n.useState)(),ie=Object(i.a)(se,2),me=ie[0],pe=ie[1],Ee=Object(n.useState)([]),ve=Object(i.a)(Ee,2),de=ve[0],fe=ve[1],ge=Object(n.useState)([]),be=Object(i.a)(ge,2),he=be[0],xe=be[1],ke=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/v1",{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:(a=e.sent).data.success&&oe(a.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/v1/payouts",{},{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:(a=e.sent).data.success&&xe(a.data.data.tx),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/v1/allgold",{},{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:(a=e.sent).data.success&&(fe(a.data.data.tx),pe(a.data.data.balance)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){ke(),je(),Oe()}),[]);var we=function(){var e=Object(s.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=parseInt(b))>0&&F)){e.next=16;break}return e.prev=2,c(!0,"warning","\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435... \u0436\u0434\u0438\u0442\u0435..."),e.next=6,p.a.post("/api/v1/addgold",{summ:a,descr:F,correction:!1,sellprice:0},{headers:{"x-auth-token":localStorage.getItem("token")}});case 6:n=e.sent,h(""),T(""),c(!1),n.data.success&&(t(),Oe()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(s.a)(o.a.mark((function e(){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=-parseInt(G),n=parseFloat(B.replace(",",".")),!(a<0&&q&&n>0)){e.next=18;break}return e.prev=3,c(!0,"warning","\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435... \u0436\u0434\u0438\u0442\u0435..."),e.next=7,p.a.post("/api/v1/addgold",{summ:a,descr:q,correction:!1,sellprice:n},{headers:{"x-auth-token":localStorage.getItem("token")}});case 7:r=e.sent,J(""),M(""),H(""),c(!1),r.data.success&&(t(),Oe(),ke()),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(s.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=parseInt(Q))>0&&$&&ne)){e.next=17;break}return e.prev=2,c(!0,"warning","\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435... \u0436\u0434\u0438\u0442\u0435..."),e.next=6,p.a.post("/api/v1/pay",{summ:a,usertopay:ne,descr:$},{headers:{"x-auth-token":localStorage.getItem("token")}});case 6:n=e.sent,X(""),ee(""),re(""),c(!1),n.data.success&&(t(),ke(),je()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(v.a,{spacing:4,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(d.a,{variant:"h5"},a.user.name),r.a.createElement(g.a,{variant:"outlined",color:"secondary",size:"small",onClick:function(){localStorage.clear(),l()}},"\u0412\u044b\u0445\u043e\u0434")),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,null,"\u0417\u0430\u043d\u0435\u0441:",r.a.createElement("br",null),a.user.gold," \u0433\u043e\u043b\u0434\u044b"),r.a.createElement(d.a,null,"\u041f\u043e\u043b\u0443\u0447\u0438\u043b:",r.a.createElement("br",null),a.user.payed," \u0440\u0443\u0431"),r.a.createElement(d.a,null,"\u0411\u0430\u043b\u0430\u043d\u0441:",r.a.createElement("br",null),a.user.topay," \u0440\u0443\u0431"))),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,null,"\u0414\u0435\u043f\u043e\u0437\u0438\u0442 \u0432 \u0431\u0430\u043d\u043a"),r.a.createElement(f.a,{label:"Gold",variant:"outlined",value:b,onChange:function(e){return h(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436",variant:"outlined",value:F,onChange:function(e){return T(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:we},"\u0412\u043d\u0435\u0441\u0442\u0438"))),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,null,"\u041f\u0440\u043e\u0434\u0430\u0436\u0430 \u043d\u0430 \u0431\u0438\u0440\u0436\u0435"),r.a.createElement(f.a,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",variant:"outlined",value:G,onChange:function(e){return J(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"\u0426\u0435\u043d\u0430",variant:"outlined",value:B,onChange:function(e){return M(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",variant:"outlined",value:q,onChange:function(e){return H(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:ye},"\u0412\u043d\u0435\u0441\u0442\u0438"))),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,null,"\u0412\u044b\u043f\u043b\u0430\u0442\u0430 \u0438\u0433\u0440\u043e\u043a\u0443"),r.a.createElement(I.a,{style:{minWidth:210}},r.a.createElement(D.a,null,"\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430"),r.a.createElement(_.a,{value:ne,onChange:function(e){return re(e.target.value)}},ue.map((function(e){return r.a.createElement(A.a,{key:e._id,value:e._id},e.name)})))),r.a.createElement("br",null),r.a.createElement(f.a,{label:"\u0421\u0443\u043c\u043c\u0430",variant:"outlined",value:Q,onChange:function(e){return X(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",variant:"outlined",value:$,onChange:function(e){return ee(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:Se},"\u0412\u043d\u0435\u0441\u0442\u0438"))),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,{variant:"h5"},"\u0411\u0430\u043b\u0430\u043d\u0441\u044b \u0438\u0433\u0440\u043e\u043a\u043e\u0432"),r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(y.a,null,"\u0418\u043c\u044f"),r.a.createElement(y.a,{align:"right"},"\u0421\u0443\u043c\u043c\u0430"))),r.a.createElement(S.a,null,ue.map((function(e){return r.a.createElement(w.a,{key:e._id},r.a.createElement(y.a,{component:"th",scope:"row"},e.name),r.a.createElement(y.a,{align:"right"},e.topay))})))))),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,{variant:"h5"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 \u0431\u0430\u043d\u043a\u043e\u043c (\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 20)",r.a.createElement("br",null),"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441: ",me),r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(y.a,null,"\u0414\u0430\u0442\u0430"),r.a.createElement(y.a,null,"\u0421\u0443\u043c\u043c\u0430"),r.a.createElement(y.a,{align:"right"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"))),r.a.createElement(S.a,null,de.map((function(e){return r.a.createElement(w.a,{key:e._id},r.a.createElement(y.a,{component:"th",scope:"row"},x()(e.date).format("lll")),r.a.createElement(y.a,null,e.summ),r.a.createElement(y.a,{align:"right"},e.descr))})))))),r.a.createElement(v.a,{item:!0,xs:!0},r.a.createElement(k.a,{elevation:3},r.a.createElement(d.a,{variant:"h5"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0432\u044b\u043f\u043b\u0430\u0442 (\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 10)"),r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(y.a,null,"\u0414\u0430\u0442\u0430"),r.a.createElement(y.a,null,"\u0418\u0433\u0440\u043e\u043a"),r.a.createElement(y.a,null,"\u0421\u0443\u043c\u043c\u0430"),r.a.createElement(y.a,{align:"right"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"))),r.a.createElement(S.a,null,he.map((function(e){return r.a.createElement(w.a,{key:e._id},r.a.createElement(y.a,{component:"th",scope:"row"},x()(e.date).format("lll")),r.a.createElement(y.a,null,function(e){var a=ue.find((function(a){return a._id===e}));return a?a.name:""}(e.user)),r.a.createElement(y.a,null,e.summ),r.a.createElement(y.a,{align:"right"},e.descr))})))))))))},F=t(147),T=function(){var e=Object(n.useState)("login"),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({}),u=Object(i.a)(c,2),m=u[0],E=u[1],v=Object(n.useState)({}),d=Object(i.a)(v,2),f=d[0],g=d[1],h=function(){var e=Object(s.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/v1/",{},{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:(a=e.sent).data.success&&E(a.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){return l("login")},k=function(e,a,t){return g({show:e,type:a,text:t})};return r.a.createElement(r.a.Fragment,null,f.show&&r.a.createElement(F.a,{severity:f.type},f.text),"login"===t&&r.a.createElement(b,{updatePage:function(e){return l(e)},showAlert:k,updateUserData:h}),"user"===t&&r.a.createElement(C,{userData:m,updateUserData:h,goToLogin:x,showAlert:k}),"admin"===t&&r.a.createElement(U,{userData:m,updateUserData:h,goToLogin:x,showAlert:k}))},L=t(63);t.n(L).a.load({google:{families:["Roboto:300,400,500"]}}),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.34dfcc5b.chunk.js.map